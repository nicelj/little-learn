### 应用程序设计

##### 范式化与反范式化
`范式化`: 将数据分散到不同的集合,集合之间互相引用。由于MongoDB没有提供join操作,所以查询数据时可能要查几次才能得到结果。  
`反范式化`: 将某些文档以子文档的形式嵌入到某个文档中。缺点是容易产生大量重复数据,更新时可能需要更新所有相关的文档。
*范式化可以提高写入速度,而反范式化可以提高读取速度。*
###### 所以设计时要考虑:数据是更新频繁还是读取频繁? 如果数据经常更新,那么范式化是比较好的选择;否则,一定程度上反范式化是不错的选择。  
###### 一般来说,数据生成越频繁,就越不应该嵌入到其他文档中。例如评论列表和活动列表信息应该使用单独的集合进行保存。
